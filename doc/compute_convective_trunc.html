<HTML>
<HEAD>
   <TITLE> module compute_convective_trunc (generated by f90doc) </TITLE>
</HEAD>
<H1> Module compute_convective_trunc </H1>
<PRE>module compute_convective_trunc

        ! Uses
    use <A HREF="parameters_io.html">parameters_IO</A>
    use <A HREF="fft_engine.html">fft_engine</A>
    use <A HREF="decomp_2d.html">decomp_2d</A>
    use <A HREF="decomp_2d_custom.html">decomp_2d_custom</A>
    use <A HREF="system_variables.html">system_variables</A>, only : u,v,w,dudy,dudz,dvdx,dvdz,dwdx,dwdy

        ! Variables
    type (DECOMP_INFO), private, save :: <A HREF="compute_convective_trunc.html#var_dcp">dcp</A>
    type (DECOMP_INFO), private, save :: <A HREF="compute_convective_trunc.html#var_dcpg">dcpg</A>
    real (kind=rprec), private, allocatable, dimension(:,:,:) :: <A HREF="compute_convective_trunc.html#var_wk_x">wk_x</A>
    real (kind=rprec), private, allocatable, dimension(:,:,:) :: <A HREF="compute_convective_trunc.html#var_wk_y">wk_y</A>
    real (kind=rprec), private, allocatable, dimension(:,:,:) :: <A HREF="compute_convective_trunc.html#var_wk1">wk1</A>
    integer, private :: <A HREF="compute_convective_trunc.html#var_ierr">ierr</A>

        ! Subroutines and functions
    public subroutine <A HREF="compute_convective_trunc.html#subroutine_conv_init">conv_init</A> (dcp_main, dcp_ghost)
    public subroutine <A HREF="compute_convective_trunc.html#subroutine_conv_finalize">conv_finalize</A> ()
    public subroutine <A HREF="compute_convective_trunc.html#subroutine_compute_dealias_convec">compute_dealias_convec</A> (cx, cy, cz)
    private subroutine <A HREF="compute_convective_trunc.html#subroutine_transpose_to_truncate">transpose_to_truncate</A> (ccout, ccin)
    private subroutine <A HREF="compute_convective_trunc.html#subroutine_dealias">dealias</A> (ccout, ccin)

end module compute_convective_trunc
</PRE>
 module: compute convective terms
<P>
 <UL>
 <LI>  last modified: fabien margairaz ( fabien.margairaz@gmail.com ), 09/06/2014
<P>
 <LI>  description:
  <UL>
  <LI>  use the 2/3 dealiasing rule
<P>
 </UL>
  </UL>

<HR><H2> Description of Variables </H2>
<A NAME="var_dcp"><H3>dcp</H3></A>
<PRE>type (DECOMP_INFO), private, save :: dcp
</PRE>
<A NAME="var_dcpg"><H3>dcpg</H3></A>
<PRE>type (DECOMP_INFO), private, save :: dcpg
</PRE>
<A NAME="var_wk_x"><H3>wk_x</H3></A>
<PRE>real (kind=rprec), private, allocatable, dimension(:,:,:) :: wk_x
</PRE>
<A NAME="var_wk_y"><H3>wk_y</H3></A>
<PRE>real (kind=rprec), private, allocatable, dimension(:,:,:) :: wk_y
</PRE>
<A NAME="var_wk1"><H3>wk1</H3></A>
<PRE>real (kind=rprec), private, allocatable, dimension(:,:,:) :: wk1
</PRE>
<A NAME="var_ierr"><H3>ierr</H3></A>
<PRE>integer, private :: ierr
</PRE>

<HR><H2> Description of Subroutines and Functions </H2>
<A NAME="subroutine_conv_init"><H3>conv_init</H3></A>
<PRE>public subroutine conv_init (dcp_main, dcp_ghost)
    type (DECOMP_INFO), intent(in) :: dcp_main
    type (DECOMP_INFO), intent(in) :: dcp_ghost
    ! Calls: decomp_2d_abort
end subroutine conv_init
</PRE>
 subroutine: initiate convective module
<P>
 <UL>
 <LI>  last modified: fabien margairaz ( fabien.margairaz@gmail.com ), 09/06/2014
<P>
 <LI>  description:
  <UL>
  <LI>  need dcp_info for 2/3 rule (to allocate 2Decomp workspace)
 </UL>
  </UL>
<A NAME="subroutine_conv_finalize"><H3>conv_finalize</H3></A>
<PRE>public subroutine conv_finalize ()
end subroutine conv_finalize
</PRE>
 subroutine: finilise convective module
<P>
 <UL>
 <LI>  last modified: fabien margairaz ( fabien.margairaz@gmail.com ), 09/06/2014
<P>
 <LI>  description:
 </UL>
<A NAME="subroutine_compute_dealias_convec"><H3>compute_dealias_convec</H3></A>
<PRE>public subroutine compute_dealias_convec (cx, cy, cz)
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),0:dcp%xsz(3)+1), intent(inout) :: cx
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),0:dcp%xsz(3)+1), intent(inout) :: cy
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),0:dcp%xsz(3)+1), intent(inout) :: cz
    ! Calls: dealias, transpose_to_truncate, update_ghost
end subroutine compute_dealias_convec
</PRE>
 subroutine: compute aliased convective terms
<P>
 <UL>
 <LI>  last modified: fabien margairaz ( fabien.margairaz@gmail.com ), 09/06/2014
<P>
 <LI>  description:
  <UL>
  <LI>  this routine uses ghost cell to impose BC on u and v at the bottom
 </UL>
  </UL>
<A NAME="subroutine_transpose_to_truncate"><H3>transpose_to_truncate</H3></A>
<PRE>private subroutine transpose_to_truncate (ccout, ccin)
    real (kind=rprec), dimension(dcp%ysz(1),dcp%ysz(2),0:dcp%ysz(3)+1), intent(inout) :: ccout
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),0:dcp%xsz(3)+1), intent(in) :: ccin
    ! Calls: dfftw_execute_dft_c2r, dfftw_execute_dft_r2c, transpose_x_to_y
end subroutine transpose_to_truncate
</PRE>
 subroutine: transpose data to big Y-pencil
<P>
 <UL>
 <LI>  last modified: fabien margairaz ( fabien.margairaz@gmail.com ), 09/06/2014
<P>
 <LI>  description:
  <UL>
  <LI>  both cc and cc_big do need ghost cells support
 </UL>
  </UL>
<A NAME="subroutine_dealias"><H3>dealias</H3></A>
<PRE>private subroutine dealias (ccout, ccin)
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),0:dcp%xsz(3)+1), intent(out) :: ccout
    real (kind=rprec), dimension(dcp%ysz(1),dcp%ysz(2),0:dcp%ysz(3)+1), intent(in) :: ccin
    ! Calls: dfftw_execute_dft_c2r, dfftw_execute_dft_r2c, transpose_y_to_x
end subroutine dealias
</PRE>
 subroutine: dealiase the data
<P>
 <UL>
 <LI>  last modified: fabien margairaz ( fabien.margairaz@gmail.com ), 09/06/2014
<P>
 <LI>  description:
  <UL>
  <LI>  cc_big does not need ghost cells support
  <LI>  cc does need ghost cells support
 </UL>
  </UL>
</HTML>
