<HTML>
<HEAD>
   <TITLE> module compute_sgs (generated by f90doc) </TITLE>
</HEAD>
<H1> Module compute_sgs </H1>
<PRE>module compute_sgs

        ! Uses
    use <A HREF="parameters_io.html">parameters_IO</A>
    use <A HREF="decomp_2d.html">decomp_2d</A>
    use <A HREF="decomp_2d_custom.html">decomp_2d_custom</A>
    use <A HREF="system_variables.html">system_variables</A>, only : dudx,dudy,dudz,dvdx,dvdy,dvdz,dwdx,dwdy,dwdz,       txx,tyy,tzz,txy,txz,tyz
    use <A HREF="compute_lagscaledep.html">compute_LagScaleDep</A>

        ! Variables
    type (DECOMP_INFO), private, save :: <A HREF="compute_sgs.html#var_dcp">dcp</A>
    real (kind=rprec), public, dimension(:,:,:), allocatable :: <A HREF="compute_sgs.html#var_cs_opt2">cs_opt2</A>
    real (kind=rprec), public, dimension(:,:,:), allocatable :: <A HREF="compute_sgs.html#var_nu_t">nu_t</A>
    real (kind=rprec), private, parameter :: <A HREF="compute_sgs.html#var_n_dmp">n_dmp</A> = 2._rprec

        ! Subroutines and functions
    public subroutine <A HREF="compute_sgs.html#subroutine_sgs_init">sgs_init</A> (dcp_main)
    public subroutine <A HREF="compute_sgs.html#subroutine_sgs_finalize">sgs_finalize</A> ()
    public subroutine <A HREF="compute_sgs.html#subroutine_sgs_stress">sgs_stress</A> (jt, jtt)
    private subroutine <A HREF="compute_sgs.html#subroutine_compute_sij">compute_sij</A> (dcp, s11, s12, s13, s23, s22, s33)

end module compute_sgs
</PRE>
  module: compute sub grid stress 
<P>
 <UL>
 <LI>  fabien margairaz (fabien.margairaz@gmail.com)
<P>
 <LI>  description:
  <UL>
  <LI>  this module contains all the routines used for computing sgs
  <LI>  cs_opt2 & nu_t are definded on w-nodes
 </UL>
  </UL>

<HR><H2> Description of Variables </H2>
<A NAME="var_dcp"><H3>dcp</H3></A>
<PRE>type (DECOMP_INFO), private, save :: dcp
</PRE>
<A NAME="var_cs_opt2"><H3>cs_opt2</H3></A>
<PRE>real (kind=rprec), public, dimension(:,:,:), allocatable :: cs_opt2
</PRE>
<A NAME="var_nu_t"><H3>nu_t</H3></A>
<PRE>real (kind=rprec), public, dimension(:,:,:), allocatable :: nu_t
</PRE>
<A NAME="var_n_dmp"><H3>n_dmp</H3></A>
<PRE>real (kind=rprec), private, parameter :: n_dmp = 2._rprec
</PRE>

<HR><H2> Description of Subroutines and Functions </H2>
<A NAME="subroutine_sgs_init"><H3>sgs_init</H3></A>
<PRE>public subroutine sgs_init (dcp_main)
    type (DECOMP_INFO), intent(in) :: dcp_main
    ! Calls: LagScaleDep_init, decomp_2d_abort
end subroutine sgs_init
</PRE>
 subroutine: initialise sgs module
<P>
 <UL>
 <LI>  fabien margairaz (fabien.margairaz@gmail.com)
<P>
 <LI>  description:
 </UL>
<A NAME="subroutine_sgs_finalize"><H3>sgs_finalize</H3></A>
<PRE>public subroutine sgs_finalize ()
end subroutine sgs_finalize
</PRE>
 subroutine: finalise sgs module
<A NAME="subroutine_sgs_stress"><H3>sgs_stress</H3></A>
<PRE>public subroutine sgs_stress (jt, jtt)
    integer, intent(IN) :: jt
    integer, intent(IN) :: jtt
    ! Calls: compute_LagScaleDep_coeff, compute_sij, decomp_2d_abort
end subroutine sgs_stress
</PRE>
 subroutine: compute sgs stress
<P>
 <UL>
 <LI>  fabien margairaz (fabien.margairaz@gmail.com)
<P>
 <LI>  description:
  <UL>
  <LI>  txx,txy,tyy,tzz on uvp-nodes except at bottom
  <LI>  txz,tyz on w-nodes
 </UL>
  </UL>
<A NAME="subroutine_compute_sij"><H3>compute_sij</H3></A>
<PRE>private subroutine compute_sij (dcp, s11, s12, s13, s23, s22, s33)
    type (decomp_info), intent(in) :: dcp
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),dcp%xsz(3)+1), intent(out) :: s11
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),dcp%xsz(3)+1), intent(out) :: s12
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),dcp%xsz(3)+1), intent(out) :: s13
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),dcp%xsz(3)+1), intent(out) :: s23
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),dcp%xsz(3)+1), intent(out) :: s22
    real (kind=rprec), dimension(dcp%xsz(1),dcp%xsz(2),dcp%xsz(3)+1), intent(out) :: s33
end subroutine compute_sij
</PRE>
 subroutine: compute sij
<P>
 <UL>
 <LI>  fabien margairaz (fabien.margairaz@gmail.com)
<P>
 <LI>  description:
  <UL>
  <LI>  sij do not need ghost cells
  <LI>  computes sij on uvp node at jz=1, on w nodes for the others (jz>1)
 </UL>
  </UL>
</HTML>
